<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributed Systems: Final Exam Mastery</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=JetBrains+Mono:wght@300;500&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --neon-blue: #00f2ff;
            --neon-purple: #bc13fe;
            --neon-green: #39ff14;
            --bg-dark: #020617;
            --surface: #0f172a;
            --glass: rgba(15, 23, 42, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; }
        body, html {
            margin: 0; padding: 0; height: 100%; width: 100%;
            background-color: var(--bg-dark);
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
            overflow: hidden;
        }

        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; filter: blur(1px); opacity: 0.4; }

        #app-root { display: flex; height: 100vh; width: 100vw; padding: 20px; gap: 20px; position: relative; }

        #sidebar {
            width: var(--sidebar-width);
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px 20px;
            display: flex; flex-direction: column; gap: 10px;
            z-index: 1000;
            transition: var(--transition);
        }

        .logo-box {
            display: flex; align-items: center; gap: 12px;
            margin-bottom: 20px; padding: 10px;
            border-bottom: 1px solid var(--glass-border);
        }

        .logo-wrapper { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
        .logo-img { max-width: 100%; max-height: 100%; object-fit: contain; filter: drop-shadow(0 0 5px var(--neon-blue)); }

        .nav-item {
            padding: 10px 15px; border-radius: 10px;
            cursor: pointer; transition: var(--transition);
            display: flex; align-items: center; gap: 12px;
            font-family: 'Orbitron', sans-serif; font-size: 11px;
            color: var(--text-secondary); border: 1px solid transparent;
            text-transform: uppercase;
        }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: #fff; }
        .nav-item.active { background: linear-gradient(90deg, rgba(0,242,255,0.1), transparent); border-left: 3px solid var(--neon-blue); color: var(--neon-blue); }

        #viewport {
            flex-grow: 1; position: relative;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }

        .slide {
            position: absolute; inset: 0; padding: clamp(20px, 5vw, 40px);
            display: none; flex-direction: column;
            opacity: 0; transform: translateY(20px);
            transition: var(--transition);
            overflow-y: auto;
            width: 100%;
        }
        .slide.active { display: flex; opacity: 1; transform: translateY(0); }

        .title-huge {
            font-family: 'Orbitron', sans-serif; 
            font-size: clamp(32px, 8vw, 64px); font-weight: 700;
            line-height: 1.1; margin: 0;
            background: linear-gradient(to bottom right, #fff, var(--neon-blue));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .section-header {
            font-family: 'Orbitron', sans-serif; font-size: clamp(18px, 4vw, 24px);
            margin-bottom: 20px; display: flex; align-items: center; gap: 15px; color: var(--neon-blue);
        }

        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; width: 100%; }
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; width: 100%; }

        .card {
            background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 15px;
            transition: var(--transition); cursor: pointer; height: 100%; position: relative;
        }
        .card:hover { border-color: var(--neon-blue); background: rgba(0, 242, 255, 0.08); transform: translateY(-5px); }
        .card::after { content: 'OPEN DIAGRAMS & NOTES'; position: absolute; bottom: 8px; right: 10px; font-size: 8px; color: var(--neon-purple); font-family: 'JetBrains Mono'; }

        .card h4 { margin: 0 0 5px 0; color: var(--neon-blue); font-size: 14px; text-transform: uppercase; }
        .card p { margin: 0; font-size: 12px; color: var(--text-secondary); line-height: 1.4; }
        .card i { font-size: 18px; color: var(--neon-blue); margin-bottom: 10px; display: block; }

        #explanation-modal {
            position: fixed; inset: 0; background: rgba(2, 6, 23, 0.95);
            backdrop-filter: blur(20px); z-index: 2000;
            display: none; align-items: center; justify-content: center; padding: 20px;
        }
        .modal-content {
            background: var(--surface); max-width: 900px; width: 100%; max-height: 90vh;
            border: 1px solid var(--neon-blue); border-radius: 24px; padding: 40px;
            position: relative; box-shadow: 0 0 50px rgba(0, 242, 255, 0.3);
            overflow-y: auto;
        }
        .modal-close { position: absolute; top: 25px; right: 25px; color: var(--neon-blue); font-size: 28px; cursor: pointer; }

        .hinglish-box { font-size: 15px; line-height: 1.7; color: var(--text-primary); }
        .hinglish-box h3 { font-family: 'Orbitron'; color: var(--neon-blue); margin-top: 0; text-transform: uppercase; font-size: 22px; margin-bottom: 20px; border-bottom: 1px solid var(--glass-border); padding-bottom: 10px;}
        
        .concept-summary { background: rgba(0, 242, 255, 0.05); border: 1px solid var(--neon-blue); padding: 20px; border-radius: 12px; margin-bottom: 25px; }
        .concept-summary h4 { color: var(--neon-blue); margin: 0 0 10px 0; font-family: 'Orbitron'; font-size: 14px; text-transform: uppercase; }
        .concept-summary p { margin: 0; font-style: italic; color: #fff; }

        .exam-details h4 { color: var(--neon-purple); margin: 25px 0 10px 0; font-family: 'Orbitron'; font-size: 14px; text-transform: uppercase;}
        .exam-details ul { padding-left: 20px; }
        .exam-details li { margin-bottom: 8px; }
        .hinglish-box b { color: var(--neon-blue); }
        
        .modal-diagram { background: #000; border-radius: 12px; padding: 20px; margin: 20px 0; border: 1px dashed var(--glass-border); display: flex; flex-direction: column; align-items: center; }
        .diagram-caption { font-size: 10px; color: var(--text-secondary); margin-top: 10px; font-family: 'JetBrains Mono'; text-transform: uppercase; }

        .controls { position: absolute; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 1100; }
        .btn { width: 48px; height: 48px; border-radius: 50%; border: 1px solid var(--glass-border); background: var(--glass); color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: var(--transition); }
        .btn:hover { border-color: var(--neon-blue); background: var(--neon-blue); color: #000; }

        .mobile-toggle { display: none; position: fixed; top: 30px; left: 30px; z-index: 1100; width: 48px; height: 48px; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--neon-blue); font-size: 20px; cursor: pointer; align-items: center; justify-content: center; }

        .social-left { position: absolute; bottom: 30px; left: 30px; z-index: 100; }
        .social-right { position: absolute; bottom: 30px; right: 140px; z-index: 100; }
        .social-item { display: flex; align-items: center; gap: 10px; text-decoration: none; color: var(--text-secondary); font-family: 'JetBrains Mono', monospace; font-size: 11px; transition: var(--transition); white-space: nowrap; }
        .social-item:hover { color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); transform: translateY(-2px); }

        .progress-indicator { position: absolute; bottom: 0; left: 0; height: 4px; background: var(--neon-blue); transition: width 0.3s; }
        .badge { display: inline-block; padding: 4px 10px; border-radius: 4px; background: rgba(0, 242, 255, 0.1); color: var(--neon-blue); font-size: 10px; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; }
        .unit-label { color: var(--neon-purple); font-family: 'Orbitron', sans-serif; font-size: 12px; margin-bottom: 5px; }

        @media (max-width: 1024px) {
            #sidebar { position: fixed; left: -100%; top: 0; height: 100vh; width: 280px; border-radius: 0; }
            #sidebar.open { left: 0; }
            .mobile-toggle { display: flex; }
            .social-left, .social-right { display: none; }
            .sidebar-socials { display: flex; flex-direction: column; gap: 15px; margin-top: auto; padding: 20px 0; border-top: 1px solid var(--glass-border); }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div id="explanation-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal()"><i class="fa-solid fa-xmark"></i></div>
            <div id="modal-body" class="hinglish-box"></div>
        </div>
    </div>

    <button class="mobile-toggle" id="menuToggle" onclick="toggleMenu()">
        <i class="fa-solid fa-bars"></i>
    </button>

    <div id="app-root">
        <aside id="sidebar">
            <div class="logo-box">
                <div class="logo-wrapper">
                    <img src="https://drive.google.com/thumbnail?id=1uY7-npxkT8NStw2u79Eyj8Kbhcpxmimb&sz=w500" class="logo-img" alt="Logo">
                </div>
                <h2 style="font-family: 'Orbitron', sans-serif; font-size: 14px; color: #fff; margin:0;">DISTRIBUTED<br><span style="color: var(--neon-blue);">ENG.</span></h2>
            </div>
            
            <nav style="display: flex; flex-direction: column; gap: 5px;">
                <div class="nav-item active" onclick="jumpTo(0)"><i class="fa-solid fa-house"></i> Overview</div>
                <div class="nav-item" onclick="jumpTo(1)"><i class="fa-solid fa-1"></i> Unit I: Intro</div>
                <div class="nav-item" onclick="jumpTo(3)"><i class="fa-solid fa-2"></i> Unit II: Sync</div>
                <div class="nav-item" onclick="jumpTo(6)"><i class="fa-solid fa-3"></i> Unit III: Resilience</div>
                <div class="nav-item" onclick="jumpTo(9)"><i class="fa-solid fa-4"></i> Unit IV: Objects</div>
                <div class="nav-item" onclick="jumpTo(11)"><i class="fa-solid fa-5"></i> Unit V: Advanced</div>
            </nav>

            <div class="sidebar-socials">
                <a href="https://www.instagram.com/careercue.co/" target="_blank" class="social-item"><i class="fa-brands fa-instagram"></i><span>careercue.co</span></a>
                <a href="https://www.instagram.com/master_rahul.ind/" target="_blank" class="social-item"><i class="fa-brands fa-instagram"></i><span>master_rahul.ind</span></a>
            </div>
        </aside>

        <main id="viewport">
            
            <div class="slide active" style="text-align: center; justify-content: center; align-items: center;">
                <img src="https://drive.google.com/thumbnail?id=1uY7-npxkT8NStw2u79Eyj8Kbhcpxmimb&sz=w1000" style="width: 100px; margin-bottom: 20px; filter: drop-shadow(0 0 10px var(--neon-blue));">
                <div class="badge">Comprehensive Exam Guide v3.1</div>
                <h1 class="title-huge">DISTRIBUTED<br>SYSTEMS</h1>
                <p style="color: var(--text-secondary); margin-top: 20px; font-size: 16px; letter-spacing: 2px;">V3.1 - ENHANCED EXAM NOTES</p>
                <div style="margin-top: 40px;">
                    <button class="btn" style="width: auto; padding: 0 30px; border-radius: 30px;" onclick="nextSlide()">ENTER MASTERCLASS <i class="fa-solid fa-chevron-right" style="margin-left: 10px;"></i></button>
                </div>
            </div>

            <!-- Unit Slides (Logical Mapping) -->
            <div class="slide">
                <div class="unit-label">UNIT I: FOUNDATIONS</div>
                <h2 class="section-header">Goals & HW/SW Concepts</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('goals')"><i class="fa-solid fa-bullseye"></i><h4>Goals of DS</h4><p>Transparency, Scalability, and Sharing.</p></div>
                    <div class="card" onclick="openTopic('hardware')"><i class="fa-solid fa-microchip"></i><h4>Hardware Concepts</h4><p>Multiprocessor vs Multicomputer systems.</p></div>
                    <div class="card" onclick="openTopic('software')"><i class="fa-solid fa-layer-group"></i><h4>Software Concepts</h4><p>DOS, NOS, Middleware breakdown.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT I: COMMUNICATION</div>
                <h2 class="section-header">Client-Server & Invocation</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('client_server')"><i class="fa-solid fa-users-viewfinder"></i><h4>Client-Server</h4><p>Traditional request-reply model.</p></div>
                    <div class="card" onclick="openTopic('rpc_rmi')"><i class="fa-solid fa-terminal"></i><h4>RPC & RMI</h4><p>Remote Invocation and Marshaling.</p></div>
                    <div class="card" onclick="openTopic('comm_oriented')"><i class="fa-solid fa-wave-square"></i><h4>Messaging & Streams</h4><p>Sync vs Async communication models.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT II: PROCESS MANAGEMENT</div>
                <h2 class="section-header">Threads & Server Design</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('threads')"><i class="fa-solid fa-code-fork"></i><h4>Threads</h4><p>Lightweight parallel units in servers.</p></div>
                    <div class="card" onclick="openTopic('server_design')"><i class="fa-solid fa-server"></i><h4>Servers</h4><p>Concurrent vs Iterative server design.</p></div>
                    <div class="card" onclick="openTopic('migration')"><i class="fa-solid fa-truck-ramp-box"></i><h4>Code Migration</h4><p>Moving code vs data (Mobility models).</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT II: COORDINATION</div>
                <h2 class="section-header">Sync & Mutual Exclusion</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('clocks')"><i class="fa-solid fa-clock"></i><h4>Clock Sync</h4><p>Lamport & Physical synchronization.</p></div>
                    <div class="card" onclick="openTopic('mutex')"><i class="fa-solid fa-hand-dots"></i><h4>Mutual Exclusion</h4><p>Permission and Token based algorithms.</p></div>
                    <div class="card" onclick="openTopic('bully_ring')"><i class="fa-solid fa-crown"></i><h4>Bully & Ring</h4><p>Leader election election logic.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT II: RELIABILITY</div>
                <h2 class="section-header">Transactions</h2>
                <div class="card" onclick="openTopic('transactions')">
                    <i class="fa-solid fa-file-contract"></i>
                    <h4>Distributed Transactions</h4>
                    <p>ACID properties and the Two-Phase Commit flow.</p>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT III: RELIABILITY</div>
                <h2 class="section-header">Consistency & Replication</h2>
                <div class="grid-2">
                    <div class="card" onclick="openTopic('replication')"><i class="fa-solid fa-clone"></i><h4>Object Replication</h4><p>Availability through redundant copies.</p></div>
                    <div class="card" onclick="openTopic('consistency')"><i class="fa-solid fa-database"></i><h4>Consistency Models</h4><p>Data-centric vs Client-centric.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT III: FAULT TOLERANCE</div>
                <h2 class="section-header">Resilience & Recovery</h2>
                <div class="grid-2">
                    <div class="card" onclick="openTopic('fault_tolerance')"><i class="fa-solid fa-heart-pulse"></i><h4>Fault Tolerance</h4><p>Process resilience and masking.</p></div>
                    <div class="card" onclick="openTopic('recovery')"><i class="fa-solid fa-rotate-left"></i><h4>Recovery</h4><p>Forward vs Backward models.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT III: SECURITY</div>
                <h2 class="section-header">Security Architectures</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('kerberos')"><i class="fa-solid fa-key"></i><h4>KERBEROS</h4><p>Auth via Ticket Granting Servers.</p></div>
                    <div class="card" onclick="openTopic('ssl_crypto')"><i class="fa-solid fa-shield-halved"></i><h4>SSL & Crypto</h4><p>Secure transport and encryption.</p></div>
                    <div class="card" onclick="openTopic('security_mgmt')"><i class="fa-solid fa-user-shield"></i><h4>Security Mgmt</h4><p>Keys, policies and audit.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT IV: DISTRIBUTED OBJECTS</div>
                <h2 class="section-header">Middleware Standards</h2>
                <div class="grid-2">
                    <div class="card" onclick="openTopic('corba')"><i class="fa-solid fa-object-ungroup"></i><h4>CORBA</h4><p>IDL and Object Request Brokers.</p></div>
                    <div class="card" onclick="openTopic('dcom')"><i class="fa-solid fa-windows"></i><h4>Distributed COM</h4><p>Microsoft's binary object standard.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT IV: FILE SYSTEMS</div>
                <h2 class="section-header">DFS Design & Sun NFS</h2>
                <div class="grid-2">
                    <div class="card" onclick="openTopic('dfs_design')"><i class="fa-solid fa-diagram-project"></i><h4>DFS Design</h4><p>Naming, Naming types and Issues.</p></div>
                    <div class="card" onclick="openTopic('sun_nfs')"><i class="fa-solid fa-folder-tree"></i><h4>Sun NFS</h4><p>Stateless architecture and VFS.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT V: ADVANCED STACK</div>
                <h2 class="section-header">DSM, Web & JINI</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('dsm')"><i class="fa-solid fa-server"></i><h4>Shared Memory</h4><p>Single address space abstraction.</p></div>
                    <div class="card" onclick="openTopic('www')"><i class="fa-solid fa-globe"></i><h4>World Wide Web</h4><p>Document distribution protocols.</p></div>
                    <div class="card" onclick="openTopic('jini')"><i class="fa-solid fa-plug"></i><h4>JINI</h4><p>Service discovery and federation.</p></div>
                </div>
            </div>

            <div class="slide">
                <div class="unit-label">UNIT V: IMPLEMENTATIONS</div>
                <h2 class="section-header">Tools & Programming</h2>
                <div class="grid-3">
                    <div class="card" onclick="openTopic('java_rmi')"><i class="fa-brands fa-java"></i><h4>JAVA RMI</h4><p>Java native remote calls.</p></div>
                    <div class="card" onclick="openTopic('ole_activex')"><i class="fa-solid fa-puzzle-piece"></i><h4>OLE & ActiveX</h4><p>Microsoft embedding standards.</p></div>
                    <div class="card" onclick="openTopic('som_orbix')"><i class="fa-solid fa-cubes"></i><h4>SOM/Orbix</h4><p>Class libraries and CORBA ORBs.</p></div>
                </div>
            </div>

            <div class="slide" style="text-align: center; justify-content: center; align-items: center;">
                <img src="https://drive.google.com/thumbnail?id=1uY7-npxkT8NStw2u79Eyj8Kbhcpxmimb&sz=w500" style="width: 80px; margin-bottom: 20px;">
                <h1 class="title-huge" style="font-size: 48px; color: var(--neon-purple);">COURSE FINISHED</h1>
                <p style="color: var(--text-secondary); margin-top: 20px;">Final Verified Syllabus for Examinations.</p>
                <div style="margin-top: 30px;">
                   <button class="btn" style="width: auto; padding: 0 30px; border-radius: 30px;" onclick="jumpTo(0)">RESTART COURSE <i class="fa-solid fa-rotate-right" style="margin-left: 10px;"></i></button>
                </div>
            </div>

            <!-- Social Links -->
            <div class="social-left"><a href="https://www.instagram.com/careercue.co/" target="_blank" class="social-item"><i class="fa-brands fa-instagram"></i><span>careercue.co</span></a></div>
            <div class="social-right"><a href="https://www.instagram.com/master_rahul.ind/" target="_blank" class="social-item"><span>master_rahul.ind</span><i class="fa-brands fa-instagram"></i></a></div>

            <div class="controls">
                <button class="btn" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></button>
                <button class="btn" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></button>
            </div>
            <div class="progress-indicator" id="progress"></div>
        </main>
    </div>

    <script>
        const topicData = {
            goals: {
                title: "Goals of Distributed Systems",
                summary: "Distributed system ka goal hai ki user ko aisa lage ki wo ek single computer chala raha hai, bhale hi data 10 alag locations par ho. Isse <b>Transparency</b> kehte hain.",
                details: `
                    <h4>Core Exam Properties:</h4>
                    <ul>
                        <li><b>Transparency (Hiding Distribution):</b> Includes Access (representation), Location, Migration, Replication, Concurrency, and Failure transparency.</li>
                        <li><b>Openness:</b> Extensibility of the system via standard Interface Definition Languages (IDLs).</li>
                        <li><b>Scalability Dimensions:</b>
                            <ul>
                                <li><i>Size Scalability:</i> Adding more users without performance bottleneck.</li>
                                <li><i>Geographical Scalability:</i> System works despite distance/latency.</li>
                                <li><i>Administrative Scalability:</i> Easy management across different organizations.</li>
                            </ul>
                        </li>
                    </ul>
                    <div class='modal-diagram'>
                        <svg width='300' height='100' viewBox='0 0 300 100'>
                            <rect x='10' y='60' width='80' height='30' fill='none' stroke='var(--neon-blue)'/>
                            <text x='50' y='80' fill='#fff' font-size='10' text-anchor='middle'>User</text>
                            <line x1='90' y1='75' x2='120' y2='40' stroke='var(--neon-purple)'/>
                            <rect x='110' y='10' width='180' height='40' fill='rgba(0,242,255,0.05)' stroke='var(--neon-blue)'/>
                            <text x='200' y='35' fill='var(--neon-blue)' font-size='10' text-anchor='middle'>Transparency Layer</text>
                        </svg>
                        <div class='diagram-caption'>Hiding complexity from User</div>
                    </div>
                `
            },
            hardware: {
                title: "Hardware Architecture",
                summary: "Basically CPUs kaise connect hote hain. Tightly coupled matlab shared memory, loosely coupled matlab message passing.",
                details: `
                    <h4>Architectural Classification:</h4>
                    <b>1. Multiprocessors (Tightly Coupled):</b>
                    <ul>
                        <li>CPUs share a single physical address space.</li>
                        <li><i>Bus-based:</i> All CPUs connected to a single high-speed bus (Limited scalability).</li>
                        <li><i>Switched:</i> Uses crossbar switches or omega networks for interconnect.</li>
                    </ul>
                    <b>2. Multicomputers (Loosely Coupled):</b>
                    <ul>
                        <li>Each node is an independent computer with local RAM.</li>
                        <li>Communication happens via explicit Message Passing over a network.</li>
                        <li><i>Homogeneous:</i> Nodes are identical (Jaise Cluster Computing).</li>
                        <li><i>Heterogeneous:</i> Different nodes/OS (Jaise Grid Computing).</li>
                    </ul>
                    <div class='modal-diagram'>
                        <svg width='300' height='100' viewBox='0 0 300 100'>
                            <rect x='10' y='10' width='50' height='30' stroke='var(--neon-blue)' fill='none'/>
                            <text x='35' y='30' fill='#fff' font-size='8' text-anchor='middle'>CPU 1</text>
                            <rect x='80' y='10' width='50' height='30' stroke='var(--neon-blue)' fill='none'/>
                            <text x='105' y='30' fill='#fff' font-size='8' text-anchor='middle'>CPU 2</text>
                            <line x1='35' y1='40' x2='35' y2='70' stroke='var(--neon-purple)'/>
                            <line x1='105' y1='40' x2='105' y2='70' stroke='var(--neon-purple)'/>
                            <rect x='10' y='70' width='120' height='20' stroke='var(--neon-green)' fill='none'/>
                            <text x='70' y='83' fill='var(--neon-green)' font-size='8' text-anchor='middle'>Shared RAM</text>
                        </svg>
                        <div class='diagram-caption'>Tightly Coupled System</div>
                    </div>
                `
            },
            software: {
                title: "Software Concepts",
                summary: "DOS acts as a single system, NOS manages independent nodes, Middleware is the bridge.",
                details: `
                    <h4>Comparison for Exam:</h4>
                    <ul>
                        <li><b>DOS (Distributed Operating System):</b> Manages multiprocessors as a single machine. Low transparency gap, high coupling.</li>
                        <li><b>NOS (Network Operating System):</b> Nodes have local OS and network utilities (Jaise SSH, FTP). High heterogeneity, loose coupling.</li>
                        <li><b>Middleware-based Systems:</b> A layer between applications and NOS that provides high-level distribution services (Jaise naming, security, transactions). <i>Goal:</i> Best of both worlds.</li>
                    </ul>
                `
            },
            client_server: {
                title: "The Client-Server Model",
                summary: "Foundation of all: Browser requests (Client) and Website responds (Server).",
                details: `
                    <h4>Architectural Tiers:</h4>
                    <ul>
                        <li><b>Two-Tier Architecture:</b> Direct client-server connection (Jaise Desktop app to Database).</li>
                        <li><b>Three-Tier Architecture:</b> User Interface -> Application Logic -> Database.</li>
                        <li><b>Multi-Tier:</b> Logic layer split into multiple distributed services (Microservices).</li>
                    </ul>
                    <h4>Horizontal vs Vertical Distribution:</h4>
                    <ul>
                        <li><i>Vertical:</i> Splitting functionality across logically different layers.</li>
                        <li><i>Horizontal:</i> Mirroring the same server across multiple machines for load balancing.</li>
                    </ul>
                `
            },
            rpc_rmi: {
                title: "RPC & RMI Mechanisms",
                summary: "Maan lo aapne dost ko phone kiya calculation ke liye, network ka load stub/skeleton handle karenge.",
                details: `
                    <h4>5 Critical Steps of RPC:</h4>
                    1. <b>Client Stub:</b> Collects parameters and packs them into a message (Marshaling).<br>
                    2. <b>Message Transmission:</b> Network layer delivers the packet to the server.<br>
                    3. <b>Server Skeleton:</b> Unpacks the message (Unmarshaling) and extracts params.<br>
                    4. <b>Procedure Execution:</b> Server runs the actual local function.<br>
                    5. <b>Return Path:</b> Results are marshaled back to the client stub.
                    <div class='modal-diagram'>
                        <svg width='300' height='80' viewBox='0 0 300 80'>
                            <rect x='10' y='20' width='60' height='40' stroke='var(--neon-blue)' fill='none'/>
                            <text x='40' y='45' fill='#fff' font-size='10' text-anchor='middle'>Stub</text>
                            <path d='M70 40 L110 40' stroke='var(--neon-purple)' marker-end='url(#arrow)'/>
                            <path d='M190 40 L230 40' stroke='var(--neon-purple)'/>
                            <rect x='230' y='20' width='60' height='40' stroke='var(--neon-blue)' fill='none'/>
                            <text x='260' y='45' fill='#fff' font-size='10' text-anchor='middle'>Skeleton</text>
                        </svg>
                        <div class='diagram-caption'>Marshaling -> Transfer -> Unmarshaling</div>
                    </div>
                `
            },
            comm_oriented: {
                title: "Messaging & Streams",
                summary: "Messaging persistent queues ke liye, Streams video media ke liye.",
                details: `
                    <h4>1. Message-Oriented Communication:</h4>
                    Uses <b>Message Oriented Middleware (MOM)</b>. Supports persistent (queue based) and transient communication. Sender doesn't wait for a reply (Asynchronous).
                    <h4>2. Stream-Oriented Communication:</h4>
                    Handles continuous media (Audio/Video).
                    <ul>
                        <li><i>Quality of Service (QoS):</i> Guarantees regarding Bandwidth, Latency, and Jitter.</li>
                        <li><i>Synchronization:</i> Maintaining relationship between related streams (Jaise Audio and Video).</li>
                    </ul>
                `
            },
            threads: {
                title: "Threads in Distributed Systems",
                summary: "Server threads use karta hai taaki multiple log ek saath access karein aur server hang na ho.",
                details: `
                    <h4>Threads vs Processes for Exam:</h4>
                    <ul>
                        <li><b>Efficiency:</b> Lower context switching time as memory is shared.</li>
                        <li><b>Concurrency:</b> Crucial for distributed servers handling multiple network requests simultaneously.</li>
                        <li><b>Implementation:</b> User-level threads (fast, library-based) vs Kernel-level threads (better scheduling, handles blocking calls).</li>
                    </ul>
                `
            },
            server_design: {
                title: "Server Design Issues",
                summary: "Server ko concurrent ya iterative kaise rakhein? Stateful matlab yaad rakhna, Stateless matlab bhul jana.",
                details: `
                    <h4>Key Design Decisions:</h4>
                    <ul>
                        <li><b>Iterative:</b> Handles one request at a time (Inefficient).</li>
                        <li><b>Concurrent:</b> Uses thread pool or process per request.</li>
                        <li><b>Stateless vs Stateful:</b> 
                            <ul>
                                <li><i>Stateless:</i> No client history stored. Robust failure recovery.</li>
                                <li><i>Stateful:</i> Session info stored. Faster for complex logic but hard to recover if server crashes.</li>
                            </ul>
                        </li>
                    </ul>
                `
            },
            migration: {
                title: "Code Migration Models",
                summary: "Bada data download karne se behtar hai program wahan bhej do (Jaise agent).",
                details: `
                    <h4>Why migrate code?</h4>
                    Improve resource utilization and minimize network latency.
                    <h4>Mobility Models:</h4>
                    <ul>
                        <li><b>Weak Mobility:</b> Transfer only the Code segment. The target starts fresh.</li>
                        <li><b>Strong Mobility:</b> Transfer Code + Execution Context (Stack/Heap). Target resumes from exactly where it left off.</li>
                    </ul>
                    <div class='modal-diagram'>
                        <svg width='200' height='100' viewBox='0 0 200 100'>
                            <rect x='10' y='10' width='80' height='80' stroke='var(--neon-blue)' fill='none'/>
                            <text x='50' y='30' fill='#fff' font-size='8' text-anchor='middle'>Code</text>
                            <text x='50' y='50' fill='var(--neon-purple)' font-size='8' text-anchor='middle'>Stack</text>
                            <text x='50' y='70' fill='var(--neon-purple)' font-size='8' text-anchor='middle'>Data</text>
                            <line x1='100' y1='50' x2='150' y2='50' stroke='var(--neon-green)' marker-end='url(#arrow)'/>
                        </svg>
                        <div class='diagram-caption'>Strong Mobility Context Transfer</div>
                    </div>
                `
            },
            clocks: {
                title: "Clock Sync Logic",
                summary: "Network clocks drift hoti hain, unhe coordinate karna events order karne ke liye.",
                details: `
                    <h4>Physical vs Logical Clocks:</h4>
                    <ul>
                        <li><b>Cristian's Algorithm:</b> External time source based synchronization.</li>
                        <li><b>Berkeley Algorithm:</b> Internal master node calculates average time and sends offsets to slaves.</li>
                        <li><b>Lamport Timestamps (Logical):</b> Defines a <i>Partial Order</i> of events using the "Happens-before" ($\rightarrow$) relation. If $a \rightarrow b$, then $C(a) < C(b)$.</li>
                    </ul>
                    <div class='modal-diagram'>
                        <svg width='250' height='80' viewBox='0 0 250 80'>
                            <line x1='20' y1='20' x2='220' y2='20' stroke='var(--neon-blue)'/>
                            <text x='20' y='35' fill='#fff' font-size='8'>Node A: T=1</text>
                            <line x1='40' y1='20' x2='120' y2='50' stroke='var(--neon-purple)' marker-end='url(#arrow)'/>
                            <line x1='20' y1='50' x2='220' y2='50' stroke='var(--neon-blue)'/>
                            <text x='120' y='65' fill='#fff' font-size='8'>Node B: Adjust T</text>
                        </svg>
                        <div class='diagram-caption'>Causal ordering between nodes</div>
                    </div>
                `
            },
            mutex: {
                title: "Mutual Exclusion",
                summary: "Ensuring one process accesses shared resource at a time (Printer rule).",
                details: `
                    <h4>Distributed Algorithms:</h4>
                    <ul>
                        <li><b>Centralized:</b> Simple, single point of failure. Coordinator uses a queue.</li>
                        <li><b>Ricart-Agrawala (Distributed):</b> Permission based. A process sends timestamps to all; enters CS only after everyone grants permission.</li>
                        <li><b>Token Ring:</b> A token circulates a logical ring. Hold token = Access resource.</li>
                    </ul>
                `
            },
            bully_ring: {
                title: "Election Algorithms",
                summary: "Jab neta fail ho jaye, naya neta chunne ke tareeke.",
                details: `
                    <h4>1. Bully Algorithm:</h4>
                    <ul>
                        <li>Process P detects failure and sends ELECTION to all nodes with <b>higher IDs</b>.</li>
                        <li>If a higher node replies OK, P stops. If no one replies, P wins and sends COORDINATOR to all lower IDs.</li>
                    </ul>
                    <h4>2. Ring Algorithm:</h4>
                    <ul>
                        <li>Election message passes along a logical ring collecting active node IDs.</li>
                        <li>After a full cycle, the highest ID in the list is elected.</li>
                    </ul>
                `
            },
            transactions: {
                title: "Distributed Transactions (2PC)",
                summary: "Ensuring ACID: Sab commit karein ya sab abort.",
                details: `
                    <h4>Two-Phase Commit Protocol:</h4>
                    <ul>
                        <li><b>Phase 1 (Voting):</b> Coordinator sends "Prepare" to all participants. Participants log it and vote "Yes" or "No".</li>
                        <li><b>Phase 2 (Execution):</b> If <b>all</b> voted Yes, coordinator sends "Global Commit". If any node voted No or timed out, sends "Global Abort".</li>
                    </ul>
                    <i>Blocking Problem:</i> If the coordinator fails, participants may wait indefinitely (solved by 3PC).
                `
            },
            replication: {
                title: "Object Replication",
                summary: "Data copies for reliability. Agar ek gaya, doosra zinda hai.",
                details: `
                    <h4>Why replicate?</h4>
                    Increase <b>Availability</b> and decrease <b>Latency</b>.
                    <h4>Propagation Schemes:</h4>
                    <ul>
                        <li><b>Pull:</b> Client asks for updates (Easy, might get stale data).</li>
                        <li><b>Push:</b> Server pushes updates (Higher overhead, high consistency).</li>
                        <li><b>Invalidation:</b> Notify copies that data is old, don't send new data yet.</li>
                    </ul>
                `
            },
            consistency: {
                title: "Consistency Models",
                summary: "Update sabko kab dikhega. Store focused vs User focused logic.",
                details: `
                    <h4>1. Data-Centric Models:</h4>
                    Focus on the global state of the data store.
                    <ul>
                        <li><i>Strict:</i> Global real-time ordering (Impossible).</li>
                        <li><i>Sequential:</i> All operations consistent with some global order.</li>
                        <li><i>Causal:</i> Only causally related operations must be ordered.</li>
                    </ul>
                    <h4>2. Client-Centric Models:</h4>
                    Focus on the view of an individual client session.
                    <ul>
                        <li><i>Monotonic Reads:</i> If I read a version, I never see an older version later.</li>
                        <li><i>Read-Your-Writes:</i> I always see my own latest update immediately.</li>
                    </ul>
                `
            },
            fault_tolerance: {
                title: "Fault Tolerance Resilience",
                summary: "Errors handle karna. Byzantine failures (jhoot bolna) handle karna tough hai.",
                details: `
                    <h4>Failure Models:</h4>
                    <ul>
                        <li><b>Crash Failure:</b> Node stops working.</li>
                        <li><b>Omission Failure:</b> Node misses messages.</li>
                        <li><b>Timing Failure:</b> Node works but is too slow.</li>
                        <li><b>Byzantine Failure:</b> Node lies or sends malicious data.</li>
                    </ul>
                    <i>Masking:</i> Using <b>$k$-fault tolerance</b>. For Byzantine faults, you need $3k+1$ nodes to mask $k$ failures.
                `
            },
            recovery: {
                title: "System Recovery",
                summary: "Fail hone ke baad state restore karna.",
                details: `
                    <h4>Methods:</h4>
                    <ul>
                        <li><b>Backward Recovery:</b> Restore from a <b>Checkpoint</b> (Stable storage). Issues: Domino effect.</li>
                        <li><b>Forward Recovery:</b> Move the system to a new valid state using redundant information.</li>
                        <li><b>Message Logging:</b> Combination of checkpointing and replaying messages to reach current state.</li>
                    </ul>
                `
            },
            kerberos: {
                title: "KERBEROS Flow",
                summary: "Trusted wristband (Ticket) security service.",
                details: `
                    <h4>Handshake Protocol:</h4>
                    1. <b>Login:</b> User asks AS (Auth Server) for a TGT (Ticket Granting Ticket).<br>
                    2. <b>TGS:</b> User shows TGT to TGS to get a service-specific ticket.<br>
                    3. <b>Service:</b> User shows service ticket to the actual server/verifier to gain access.<br>
                    <i>Goal:</i> Never send plain-text passwords across the network.
                    <div class='modal-diagram'>
                        <svg width='280' height='100' viewBox='0 0 280 100'>
                            <circle cx='40' cy='50' r='20' fill='none' stroke='var(--neon-blue)'/>
                            <text x='40' y='53' fill='#fff' font-size='8' text-anchor='middle'>User</text>
                            <rect x='110' y='10' width='60' height='30' stroke='var(--neon-purple)' fill='none'/>
                            <text x='140' y='28' fill='#fff' font-size='8' text-anchor='middle'>AS / TGS</text>
                            <line x1='60' y1='40' x2='110' y2='25' stroke='var(--neon-purple)'/>
                        </svg>
                        <div class='diagram-caption'>TGT Based Authentication Architecture</div>
                    </div>
                `
            },
            ssl_crypto: {
                title: "SSL & Cryptography",
                summary: "Digital locks to protect data flow.",
                details: `
                    <h4>SSL Handshake:</h4>
                    Negotiates encryption algorithms and authenticates the server via Certificates.
                    <h4>Cryptography:</h4>
                    <ul>
                        <li><b>Symmetric (Private Key):</b> One key for both. Fast, used for bulk data.</li>
                        <li><b>Asymmetric (Public/Private):</b> Different keys. Used for safe login/key exchange.</li>
                        <li><b>DigSig:</b> Digital Signatures ensure integrity and non-repudiation.</li>
                    </ul>
                `
            },
            security_mgmt: {
                title: "Security Management",
                summary: "Keys, authorization aur auditing distributed environments mein.",
                details: `
                    <ul>
                        <li><b>Key Management:</b> Secure distribution of session keys via Key Distribution Centers (KDC).</li>
                        <li><b>Authorization:</b> Use of Access Control Lists (ACLs) vs. Capabilities (Tickets).</li>
                        <li><b>Firewalls:</b> Protecting the internal distributed network from external threats.</li>
                    </ul>
                `
            },
            corba: {
                title: "CORBA Standard",
                summary: "Common bridge for C++ and Java objects.",
                details: `
                    <h4>Architecture:</h4>
                    <ul>
                        <li><b>ORB (Object Request Broker):</b> The communication bus.</li>
                        <li><b>IDL (Interface Definition Language):</b> Language-neutral interface definitions.</li>
                        <li><b>SII vs DII:</b> Static vs. Dynamic Invocation Interfaces.</li>
                        <li><b>Object Adapter (POA):</b> Connects ORB to actual implementation code.</li>
                    </ul>
                `
            },
            dcom: {
                title: "Distributed COM",
                summary: "Microsoft's proprietary remote object technology.",
                details: `
                    Microsoft's binary-level architecture. Provides remote object references, location transparency, and reference counting. Foundational for legacy Windows enterprise networks.
                `
            },
            dfs_design: {
                title: "DFS Design Issues",
                summary: "Naming (finding file) and Caching (speed) management.",
                details: `
                    <h4>Design Factors:</h4>
                    <ul>
                        <li><b>Naming:</b> Location transparency (hiding server name) vs. Location independence (files can move).</li>
                        <li><b>Caching:</b> Client-side caching (Write-through vs. Write-back).</li>
                        <li><b>Semantics:</b> Unix semantics (immediate visibility) vs. Session semantics (visibility only on close).</li>
                    </ul>
                `
            },
            sun_nfs: {
                title: "Sun Network File System",
                summary: "Standard remote file system architecture.",
                details: `
                    <h4>NFS Layers:</h4>
                    <ul>
                        <li><b>VFS (Virtual File System):</b> Abstract layer handling both local and remote files.</li>
                        <li><b>RPC Protocol:</b> All NFS commands are synchronous RPCs.</li>
                        <li><b>Statelessness:</b> Server doesn't track open files or clients. If server crashes, no state is lost. Simple and robust.</li>
                    </ul>
                    <div class='modal-diagram'>
                        <svg width='250' height='100' viewBox='0 0 250 100'>
                            <rect x='50' y='10' width='150' height='20' fill='none' stroke='var(--neon-blue)'/>
                            <text x='125' y='23' fill='var(--neon-blue)' font-size='8' text-anchor='middle'>System Calls</text>
                            <rect x='50' y='30' width='150' height='20' fill='rgba(188,19,254,0.1)' stroke='var(--neon-purple)'/>
                            <text x='125' y='43' fill='var(--neon-purple)' font-size='8' text-anchor='middle'>VFS Layer</text>
                            <line x1='80' y1='50' x2='80' y2='80' stroke='var(--neon-green)'/>
                            <text x='80' y='93' fill='var(--neon-green)' font-size='8' text-anchor='middle'>Local FS</text>
                            <line x1='170' y1='50' x2='170' y2='80' stroke='var(--neon-green)'/>
                            <text x='170' y='93' fill='var(--neon-green)' font-size='8' text-anchor='middle'>NFS Client</text>
                        </svg>
                        <div class='diagram-caption'>The Sun NFS Architecture Stack</div>
                    </div>
                `
            },
            dsm: {
                title: "Distributed Shared Memory",
                summary: "Globally shared address space across nodes.",
                details: `
                    <h4>The DSM Server:</h4>
                    Maps virtual address pages across physically distributed RAM.
                    <ul>
                        <li><b>Page Fault:</b> If a node accesses memory not locally present, the DSM manager fetches the page over the network.</li>
                        <li><b>Data Granularity:</b> Trade-off between network load (big pages) and false sharing (small objects).</li>
                    </ul>
                `
            },
            dsm_consistency: {
                title: "DSM Consistency Models",
                summary: "Sync protocols for shared memory memory performance.",
                details: `
                    <ul>
                        <li><b>Release Consistency:</b> Sync happens only when a node releases a lock.</li>
                        <li><b>Entry Consistency:</b> Sync happens only when a node acquires a lock.</li>
                        <li><b>Scope Consistency:</b> Sync only within a specific session scope.</li>
                    </ul>
                `
            },
            www: {
                title: "World Wide Web",
                summary: "Largest global document distribution system.",
                details: `
                    <h4>Document Distribution:</h4>
                    Uses HTTP (Stateless protocol) and URLs (Location transparency). Extensive use of <b>Caching Proxies</b> and <b>CDNs</b> (Content Delivery Networks) to distribute traffic globally.
                `
            },
            jini: {
                title: "JINI Coordination",
                summary: "Service discovery tech for plug-and-play gadgets.",
                details: `
                    <h4>Federation Principles:</h4>
                    Uses a <b>Lookup Service</b>. Devices join the network, upload their proxy objects to the lookup service, and other clients download those proxies to communicate. No drivers needed.
                `
            },
            java_rmi: {
                title: "JAVA RMI Implementation",
                summary: "Pure Java remote object invocation.",
                details: `
                    <h4>Components:</h4>
                    <ul>
                        <li><b>RMI Registry:</b> Naming service to find remote objects.</li>
                        <li><b>Proxy (Stub) & Dispatcher (Skeleton):</b> Handle serialization and transport.</li>
                        <li><b>Serializable:</b> Objects must implement this to be passed over the network.</li>
                    </ul>
                `
            },
            ole_activex: {
                title: "OLE & ActiveX",
                summary: "Microsoft embedding standards for documents and web.",
                details: `
                    <b>OLE (Object Linking & Embedding):</b> Allows documents (Excel) to be embedded or linked in others (Word).<br>
                    <b>ActiveX:</b> Extension for the web; reusable UI components (COM based) that run in browsers.
                `
            },
            som_orbix: {
                title: "SOM, Orbix & Visibrokes",
                summary: "Enterprise middleware tools for large scale systems.",
                details: `
                    <b>SOM (System Object Model):</b> IBM's class library technology for multi-language object binary compatibility.<br>
                    <b>Orbix/Visibrokes:</b> High-performance CORBA implementations. Support server clusters, session persistence, and enterprise security.
                `
            }
        };

        function openTopic(id) {
            const data = topicData[id];
            const body = document.getElementById('modal-body');
            if(!data) {
                body.innerHTML = "<h3>Topic Ready!</h3><p>Ye technical notes complete hain. Study karein!</p>";
            } else {
                body.innerHTML = `
                    <h3>${data.title}</h3>
                    <div class="concept-summary">
                        <h4>Quick Concept (Hinglish)</h4>
                        <p>${data.summary}</p>
                    </div>
                    <div class="exam-details">
                        <h4>Detailed Exam Notes</h4>
                        <div style="color: var(--text-secondary);">${data.details}</div>
                    </div>
                `;
            }
            document.getElementById('explanation-modal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('explanation-modal').style.display = 'none'; }

        // Particles Logic
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initCanvas() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            particles = [];
            for(let i=0; i<60; i++) particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, vx: (Math.random()-0.5)*0.2, vy: (Math.random()-0.5)*0.2, size: Math.random()*1.5 });
        }
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = '#00f2ff';
            particles.forEach(p => { p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>canvas.width) p.vx*=-1; if(p.y<0||p.y>canvas.height) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill(); });
            requestAnimationFrame(draw);
        }
        window.addEventListener('resize', initCanvas); initCanvas(); draw();

        // Navigation Logic
        let currentIdx = 0;
        const slides = document.querySelectorAll('.slide');
        const navItems = document.querySelectorAll('.nav-item');
        const progress = document.getElementById('progress');
        const sidebar = document.getElementById('sidebar');

        function toggleMenu() { sidebar.classList.toggle('open'); }

        function updateDisplay() {
            if (currentIdx < 0 || currentIdx >= slides.length) return;
            slides.forEach((s, i) => s.classList.toggle('active', i === currentIdx));
            
            let activeNavIdx = 0;
            if (currentIdx >= 1 && currentIdx <= 2) activeNavIdx = 1;
            if (currentIdx >= 3 && currentIdx <= 5) activeNavIdx = 2;
            if (currentIdx >= 6 && currentIdx <= 8) activeNavIdx = 3;
            if (currentIdx >= 9 && currentIdx <= 10) activeNavIdx = 4;
            if (currentIdx >= 11 && currentIdx <= 13) activeNavIdx = 5;

            navItems.forEach((n, i) => n.classList.toggle('active', i === activeNavIdx));
            progress.style.width = ((currentIdx + 1) / slides.length) * 100 + '%';
            if (window.innerWidth <= 1024) sidebar.classList.remove('open');
            
            const activeSlide = slides[currentIdx];
            if (activeSlide) activeSlide.scrollTop = 0;
        }

        function nextSlide() { if(currentIdx < slides.length -1) { currentIdx++; updateDisplay(); } }
        function prevSlide() { if(currentIdx > 0) { currentIdx--; updateDisplay(); } }
        function jumpTo(idx) { if (idx >= 0 && idx < slides.length) { currentIdx = idx; updateDisplay(); } }

        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if(e.key === 'ArrowLeft') prevSlide();
            if(e.key === 'Escape') closeModal();
        });
        updateDisplay();
    </script>
</body>
</html>
